import com.fasterxml.jackson.dataformat.xml.JacksonXmlModule;
import com.fasterxml.jackson.dataformat.xml.XmlMapper;
import com.fasterxml.jackson.module.jaxb.JaxbAnnotationModule;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;
import org.ricone.config.ConfigService;
import org.ricone.config.model.DataXML;
import org.ricone.security.acl.Environment;
import org.ricone.security.acl.Right;
import org.ricone.security.acl.Service;
import org.ricone.security.acl.PathPermission;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

public class XMLTest {
	private final static Logger logger = LogManager.getLogger(XMLTest.class);

	public static void main(String[] args) {
		DataXML dataXML = ConfigService.getInstance().getDataXMLByApp("DataValidationTool");
		logger.debug("\n"+dataXML.getXml().getXml());

		//String xml = "<environment xmlns=\"http://www.sifassociation.org/infrastructure/3.0.1\" type=\"DIRECT\">\n" + "\t<sessionToken></sessionToken>\n" + "\t<solutionId></solutionId>\n" + "\t<defaultZone id=\"DataValidationTool\">\n" + "\t\t<description></description>\n" + "\t</defaultZone>\n" + "\t<authenticationMethod>Bearer</authenticationMethod>\n" + "\t<consumerName></consumerName>\n" + "\t<infrastructureServices>\n" + "\t\t<infrastructureService name=\"environment\">environments/</infrastructureService>\n" + "\t\t<infrastructureService name=\"requestsConnector\">requests</infrastructureService>\n" + "\t\t<infrastructureService name=\"provisionRequests\">provision</infrastructureService>\n" + "\t\t<infrastructureService name=\"eventsConnector\">eventsConnector</infrastructureService>\n" + "\t\t<infrastructureService name=\"queues\">/queues</infrastructureService>\n" + "\t\t<infrastructureService name=\"subscriptions\">/subscriptions/</infrastructureService>\n" + "\t</infrastructureServices>\n" + "\t<provisionedZones>\n" + "\t\t<provisionedZone id=\"DataValidationTool\">\n" + "\t\t\t<services>\n" + "<!-- /*************************************************************** START Common  ****************************************************************/ -->\t\n" + "\t\t\t\n" + "\t\t\t\t<service name=\"csv\" contextId=\"DEFAULT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">APPROVED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service>\n" + "\t\t\t\t\n" + "\t\t\t\t<service name=\"info\" contextId=\"DEFAULT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service>\n" + "\t\t\t\t\n" + "\t\t\t\t<service name=\"validation\" contextId=\"DEFAULT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service>\n" + "\t\t\t\t\n" + "\t\t\t\t<service name=\"app\" contextId=\"DEFAULT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service>\n" + "\t\t\t\t\n" + "<!-- /*************************************************************** TEST ****************************************************************/ -->\t\t\t\t\n" + "\t\t\t\t<service name=\"xChangesSince\" contextId=\"DEFAULT\" type=\"OBJECT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"UPDATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"DELETE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"PROVIDE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"SUBSCRIBE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"ADMIN\">REJECTED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service>\n" + "\t\t\t\t\n" + "<!-- /*************************************************************** START SIFxPress  ****************************************************************/ -->\n" + "\n" + "\t\t\t\t<!-- START SIFxPress XLEAS -->\n" + "\t\t\t\t<service name=\"xLeas\" contextId=\"DEFAULT\" type=\"OBJECT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"UPDATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"DELETE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"PROVIDE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"SUBSCRIBE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"ADMIN\">REJECTED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service>\n" + "\t\t\t\t\n" + "\t\t\t\t\t<!-- XLEAS by XSCHOOL -->\n" + "\t\t\t\t\t<service name=\"xSchools/{}/xLeas\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XLEAS by XROSTER -->\n" + "\t\t\t\t\t<service name=\"xRosters/{}/xLeas\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XLEAS by XSTAFF -->\n" + "\t\t\t\t\t<service name=\"xStaffs/{}/xLeas\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XLEAS by XSTUDENT -->\n" + "\t\t\t\t\t<service name=\"xStudents/{}/xLeas\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\n" + "\t\t\t\t\t<!-- XLEAS by XCONTACT -->\n" + "\t\t\t\t\t<service name=\"xContacts/{}/xLeas\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\t\t\t\t<!-- END SIFxPress xLEAS -->\n" + "\t\t\t\t\n" + "\t\t\t\t<!-- START SIFxPRESS XSCHOOLS -->\n" + "\t\t\t\t<service name=\"xSchools\" contextId=\"DEFAULT\" type=\"OBJECT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"UPDATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"DELETE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"PROVIDE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"SUBSCRIBE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"ADMIN\">REJECTED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service>\t\t\n" + "\t\t\t\t\n" + "\t\t\t\t\t<!-- XSCHOOL BY XLEA -->\n" + "\t\t\t\t\t<service name=\"xLeas/{}/xSchools\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XSCHOOLS BY XCALENDAR -->\n" + "\t\t\t\t\t<service name=\"xCalendars/{}/xSchools\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XSCHOOLS BY XCOURSE -->\n" + "\t\t\t\t\t<service name=\"xCourses/{}/xSchools\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XSCHOOLS BY XROSTER -->\n" + "\t\t\t\t\t<service name=\"xRosters/{}/xSchools\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\n" + "\t\t\t\t\t<!-- XSCHOOLS BY XSTAFF -->\n" + "\t\t\t\t\t<service name=\"xStaffs/{}/xSchools\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XSCHOOLS BY XSTUDENT -->\n" + "\t\t\t\t\t<service name=\"xStudents/{}/xSchools\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XSCHOOLS BY XCONTACT -->\n" + "\t\t\t\t\t<service name=\"xContacts/{}/xSchools\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t<!-- END SIFxPRESS XSCHOOLS -->\n" + "\t\t\t\t\n" + "\t\t\t\t<!-- START SIFxPRESS XCALENDARS -->\n" + "\t\t\t\t<service name=\"xCalendars\" contextId=\"DEFAULT\" type=\"OBJECT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"UPDATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"DELETE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"PROVIDE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"SUBSCRIBE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"ADMIN\">REJECTED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service>\n" + "\t\t\t\t\n" + "\t\t\t\t\t<!-- XCALENDARS BY XLEA -->\n" + "\t\t\t\t\t<service name=\"xLeas/{}/xCalendars\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\n" + "\t\t\t\t\t<!-- XCALENDARS BY XSCHOOL -->\n" + "\t\t\t\t\t<service name=\"xSchools/{}/xCalendars\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\t\t\t\t<!-- END SIFxPRESS XCALENDARS -->\n" + "\t\t\t\t\n" + "\t\t\t\t<!-- START SIFxPRESS XCOURSES -->\n" + "\t\t\t\t<service name=\"xCourses\" contextId=\"DEFAULT\" type=\"OBJECT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"UPDATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"DELETE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"PROVIDE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"SUBSCRIBE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"ADMIN\">REJECTED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service>\n" + "\t\t\t\t\n" + "\t\t\t\t\t<!-- XCOURSES BY XLEA -->\n" + "\t\t\t\t\t<service name=\"xLeas/{}/xCourses\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XCOURSES BY XSCHOOL -->\n" + "\t\t\t\t\t<service name=\"xSchools/{}/xCourses\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XCOURSES BY XROSTER -->\n" + "\t\t\t\t\t<service name=\"xRosters/{}/xCourses\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t<!-- END SIFxPRESS XCOURSES -->\n" + "\t\t\t\t\n" + "\t\t\t\t<!-- START SIFxPRESS XROSTERS -->\n" + "\t\t\t\t<service name=\"xRosters\" contextId=\"DEFAULT\" type=\"OBJECT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"UPDATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"DELETE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"PROVIDE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"SUBSCRIBE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"ADMIN\">REJECTED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service>  \n" + "\t\t\t\t\n" + "\t\t\t\t\t<!-- XROSTERS BY XLEA -->\n" + "\t\t\t\t\t<service name=\"xLeas/{}/xRosters\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\t\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XROSTERS BY XSCHOOL -->\n" + "\t\t\t\t\t<service name=\"xSchools/{}/xRosters\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\t\t\t\t\n" + "\t\t\t\t\t<!-- XROSTERS BY XCOURSE -->\n" + "\t\t\t\t\t<service name=\"xCourses/{}/xRosters\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\t\t\t\t\n" + "\t\t\t\t\t<!-- XROSTERS BY XSTAFF -->\n" + "\t\t\t\t\t<service name=\"xStaffs/{}/xRosters\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\t\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XROSTERS BY XSTUDENT -->\n" + "\t\t\t\t\t<service name=\"xStudents/{}/xRosters\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>  \t\t\t\t\n" + "\t\t\t\t<!-- END SIFxPRESS XROSTERS -->\t\t\t\t\n" + "\t\t\t\t\n" + "\t\t\t\t<!-- START SIFxPRESS XSTAFFS -->\n" + "\t\t\t\t<service name=\"xStaffs\" contextId=\"DEFAULT\" type=\"OBJECT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"UPDATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"DELETE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"PROVIDE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"SUBSCRIBE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"ADMIN\">REJECTED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service>\n" + "\t\t\t\t\n" + "\t\t\t\t\t<!-- XSTAFFS BY XLEA -->\n" + "\t\t\t\t\t<service name=\"xLeas/{}/xStaffs\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XSTAFFS BY XSCHOOL -->\n" + "\t\t\t\t\t<service name=\"xSchools/{}/xStaffs\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XSTAFFS BY XCOURSE -->\n" + "\t\t\t\t\t<service name=\"xCourses/{}/xStaffs\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>  \n" + "\n" + "\t\t\t\t\t<!-- XSTAFFS BY XROSTER -->\n" + "\t\t\t\t\t<service name=\"xRosters/{}/xStaffs\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\n" + "\t\t\t\t\t<!-- XSTAFFS BY XSTUDENT -->\n" + "\t\t\t\t\t<service name=\"xStudents/{}/xStaffs\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t<!-- END SIFxPRESS XSTAFFS -->\n" + "\t\t\t\t\n" + "\t\t\t\t<!-- START SIFxPRESS XSTUDENTS -->\n" + "\t\t\t\t<service name=\"xStudents\" contextId=\"DEFAULT\" type=\"OBJECT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"UPDATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"DELETE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"PROVIDE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"SUBSCRIBE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"ADMIN\">REJECTED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service>  \n" + "\t\t\t\t\n" + "\t\t\t\t\t<!-- XSTUDENTS BY XLEA -->\n" + "\t\t\t\t\t<service name=\"xLeas/{}/xStudents\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\n" + "\t\t\t\t\t<!-- XSTUDENTS BY XSCHOOL -->\n" + "\t\t\t\t\t<service name=\"xSchools/{}/xStudents\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\n" + "\t\t\t\t\t<!-- XSTUDENTS BY XROSTER -->\n" + "\t\t\t\t\t<service name=\"xRosters/{}/xStudents\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- XSTUDENTS BY XSTAFF -->\n" + "\t\t\t\t\t<service name=\"xStaffs/{}/xStudents\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\n" + "\t\t\t\t\t<!-- XSTUDENTS BY XCONTACT -->\n" + "\t\t\t\t\t<service name=\"xContacts/{}/xStudents\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\t\t\t\t\t\n" + "\t\t\t\t<!-- END SIFxPRESS XSTUDENTS -->\n" + "\t\t\t\t\n" + "\t\t\t\t<!-- START SIFxPRESS XCONTACTS -->\n" + "\t\t\t\t<service name=\"xContacts\" contextId=\"DEFAULT\" type=\"OBJECT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"UPDATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"DELETE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"PROVIDE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"SUBSCRIBE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"ADMIN\">REJECTED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service>  \n" + "\t\t\t\t\n" + "\t\t\t\t\t<!-- XCONTACTS BY XLEA -->\n" + "\t\t\t\t\t<service name=\"xLeas/{}/xContacts\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\n" + "\t\t\t\t\t<!-- XCONTACTS BY XSCHOOL -->\n" + "\t\t\t\t\t<service name=\"xSchools/{}/xContacts\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\t\t\n" + "\n" + "\t\t\t\t\t<!-- XCONTACTS BY XSTUDENT -->\n" + "\t\t\t\t\t<service name=\"xStudents/{}/xContacts\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\t\t\t\t\t\n" + "\t\t\t\t<!-- END SIFxPRESS XCONTACTS -->\n" + "\t\n" + "<!-- /***************************************************************  START E1 ****************************************************************/ -->\t\n" + "\n" + "\t\t\t\t<!-- START E1 DISTRICTS -->\n" + "\t\t\t\t<service name=\"Districts\" contextId=\"DEFAULT\" type=\"OBJECT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"UPDATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"DELETE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"PROVIDE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"SUBSCRIBE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"ADMIN\">REJECTED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service> \n" + "\t\t\t\t\n" + "\t\t\t\t\t<!-- DISTRICTS BY SCHOOL -->\n" + "\t\t\t\t\t<service name=\"Schools/{}/Districts\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- DISTRICTS BY SECTION -->\n" + "\t\t\t\t\t<service name=\"Sections/{}/Districts\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- DISTRICTS BY TEACHER -->\n" + "\t\t\t\t\t<service name=\"Teachers/{}/Districts\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \t\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- DISTRICTS BY STUDENT -->\n" + "\t\t\t\t\t<service name=\"Students/{}/Districts\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \t\t\t\n" + "\t\t\t\t<!-- END E1 DISTRICTS -->\n" + "\t\t\t\t\n" + "\t\t\t\t<!-- START E1 SCHOOLS -->\n" + "\t\t\t\t<service name=\"Schools\" contextId=\"DEFAULT\" type=\"OBJECT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"UPDATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"DELETE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"PROVIDE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"SUBSCRIBE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"ADMIN\">REJECTED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service> \n" + "\t\t\t\t\n" + "\t\t\t\t\t<!-- SCHOOL BY DISTRICT -->\n" + "\t\t\t\t\t<service name=\"Districts/{}/Schools\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\n" + "\t\t\t\t\t<!-- SCHOOL BY SECTION -->\t\t\t\t\t\n" + "\t\t\t\t\t<service name=\"Sections/{}/Schools\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- SCHOOL BY TEACHER -->\n" + "\t\t\t\t\t<service name=\"Teachers/{}/Schools\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!-- SCHOOL BY STUDENT -->\n" + "\t\t\t\t\t<service name=\"Students/{}/Schools\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \t\t\t\t\t\t\t\t\n" + "\t\t\t\t<!-- END E1 SCHOOLS -->\n" + "\t\t\t\t\n" + "\t\t\t\t<!-- START E1 SECTIONS -->\n" + "\t\t\t\t<service name=\"Sections\" contextId=\"DEFAULT\" type=\"OBJECT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"UPDATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"DELETE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"PROVIDE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"SUBSCRIBE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"ADMIN\">REJECTED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service>\n" + "\t\t\t\t\n" + "\t\t\t\t\t<!--  SECTIONS BY DISTRICT -->\n" + "\t\t\t\t\t<service name=\"Districts/{}/Sections\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!--  SECTIONS BY SCHOOL -->\n" + "\t\t\t\t\t<service name=\"Schools/{}/Sections\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!--  SECTIONS BY TEACHER -->\n" + "\t\t\t\t\t<service name=\"Teachers/{}/Sections\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!--  SECTIONS BY STUDENT -->\n" + "\t\t\t\t\t<service name=\"Students/{}/Sections\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t<!-- END E1 SECTIONS -->\n" + "\t\t\t\t\n" + "\t\t\t\t<!-- START E1 TEACHERS -->\n" + "\t\t\t\t<service name=\"Teachers\" contextId=\"DEFAULT\" type=\"OBJECT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"UPDATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"DELETE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"PROVIDE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"SUBSCRIBE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"ADMIN\">REJECTED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service> \n" + "\t\t\t\t\n" + "\t\t\t\t\t<!--  TEACHERS BY DISTRICT -->\n" + "\t\t\t\t\t<service name=\"Districts/{}/Teachers\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!--  TEACHERS BY SCHOOL -->\n" + "\t\t\t\t\t<service name=\"Schools/{}/Teachers\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \t\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!--  TEACHERS BY SECTION -->\n" + "\t\t\t\t\t<service name=\"Sections/{}/Teachers\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!--  TEACHERS BY STUDENT -->\n" + "\t\t\t\t\t<service name=\"Students/{}/Teachers\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service> \n" + "\t\t\t\t<!-- END E1 TEACHERS -->\n" + "\t\t\t\t\n" + "\t\t\t\t<!-- START E1 STUDENTS -->\n" + "\t\t\t\t<service name=\"Students\" contextId=\"DEFAULT\" type=\"OBJECT\">\n" + "\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t<right type=\"CREATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"UPDATE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"DELETE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"PROVIDE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"SUBSCRIBE\">REJECTED</right>\n" + "\t\t\t\t\t\t<right type=\"ADMIN\">REJECTED</right>\n" + "\t\t\t\t\t</rights>\n" + "\t\t\t\t</service> \n" + "\t\t\t\t\n" + "\t\t\t\t\t<!--  STUDENTS BY DISTRICT -->\n" + "\t\t\t\t\t<service name=\"Districts/{}/Students\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!--  STUDENTS BY SCHOOL -->\n" + "\t\t\t\t\t<service name=\"Schools/{}/Students\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>\t\n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!--  STUDENTS BY SECTION -->\n" + "\t\t\t\t\t<service name=\"Sections/{}/Students\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>  \n" + "\t\t\t\t\t\n" + "\t\t\t\t\t<!--  STUDENTS BY TEACHER -->\n" + "\t\t\t\t\t<service name=\"Teachers/{}/Students\" contextId=\"DEFAULT\" type=\"SERVICEPATH\">\n" + "\t\t\t\t\t\t<rights>\n" + "\t\t\t\t\t\t\t<right type=\"QUERY\">APPROVED</right>\n" + "\t\t\t\t\t\t</rights>\n" + "\t\t\t\t\t</service>  \t\t\t\t\n" + "\t\t\t\t<!-- END E1 STUDENTS -->\n" + "\t\t\t</services>            \n" + "\t\t</provisionedZone>\n" + "\t</provisionedZones>\n" + "</environment>";
		//logger.debug("xml: \n" + xml);

		XmlMapper xmlMapper = new XmlMapper();
		xmlMapper.registerModule(new JaxbAnnotationModule());
		xmlMapper.registerModule(new JacksonXmlModule());

		try {
			Environment environment = xmlMapper.readValue(dataXML.getXml().getXml(), Environment.class);

			//Environment environment = xmlMapper.readValue(xml, Environment.class);

			/*logger.debug("xmlns: " + environment.getXmlns());
			logger.debug("getType: " + environment.getType());
			logger.debug("getSessionToken: " + environment.getSessionToken());
			logger.debug("getSolutionId: " + environment.getSolutionId());
			logger.debug("getDefaultZone.getId: " + environment.getDefaultZone().getId());
			logger.debug("getDefaultZone.getDescription: " + environment.getDefaultZone().getDescription());
			logger.debug("getAuthenticationMethod: " + environment.getAuthenticationMethod());
			logger.debug("getConsumerName: " + environment.getConsumerName());

			environment.getInfrastructureServices().getInfrastructureService().forEach(infrastructureService -> {
				logger.debug("infrastructureService: " + infrastructureService.getName() + " -- " + infrastructureService.getValue());
			});


			logger.debug("getProvisionedZone.getId: " + environment.getProvisionedZones().getProvisionedZone().getId());
			environment.getProvisionedZones().getProvisionedZone().getServices().getService().forEach(service -> {
				logger.debug("\tgetProvisionedZone.getServices.getService.: " + service.getName() + " -- " + service.getContextId() + " -- " +  service.getType());

				service.getRights().getRight().forEach(right -> {
					logger.debug("\t\tgetService.getRights.getRight: " + right.getType() + " -- " + right.getValue());
				});

			});*/

			logger.debug("----------------------------------");

			List<PathPermission> pathPermissions = new ArrayList<>();
			environment.getProvisionedZones().getProvisionedZone().getServices().getService().forEach(service -> {
				pathPermissions.add(mapPathPermission(environment.getDefaultZone().getId(), service));
			});

			pathPermissions.forEach(pathPermission -> {
				logger.debug("pathPermission: " + pathPermission.toString());
			});


		}
		catch (IOException e) {
			e.printStackTrace();
		}
	}



	private static PathPermission mapPathPermission(String appId, Service service) {
		boolean get = false, post = false, put = false, delete = false;
		for (Right right : service.getRights().getRight()) {
			switch(right.getType().toUpperCase()) {
				case "QUERY": {
					if("APPROVED".equalsIgnoreCase(right.getValue())) {
						get = true;
					}
				}
				case "CREATE": {
					if("APPROVED".equalsIgnoreCase(right.getValue())) {
						post = true;
					}
				}
				case "UPDATE": {
					if("APPROVED".equalsIgnoreCase(right.getValue())) {
						put = true;
					}
				}
				case "DELETE": {
					if("APPROVED".equalsIgnoreCase(right.getValue())) {
						delete = true;
					}
				}
				default:
			}
		}
		return new PathPermission(appId, service.getName(), get, post, put, delete);
	}

}
